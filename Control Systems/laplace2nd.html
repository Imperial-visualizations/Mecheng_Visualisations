<!DOCTYPE html>

<html>
    <head>
        <title>Second Order Process</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--css link-->
        <link rel="stylesheet" href="https://rawgit.com/Imperial-visualizations/Physics-Visualizations/master/css/skeleton.css">
        <link rel="stylesheet" href="https://rawgit.com/Imperial-visualizations/Physics-Visualizations/master/css/style.css">
        <!--PLOTLY.JS-->
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>  
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/5.0.4/math.js"></script>
        <!--J QUERY SHOW AND HIDE FUNCTION-->
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script> <!-- need this to be on top for the toggle button function to work-->  


        <style>
            /*This code overwrite Style2.css setting on checkbox*/
            input[type="checkbox"]
            {
                display: inline;
                /*  -webkit-appearance: none;
                  -moz-appearance: none;*/
                border: 0;
                background-color: #fff;
                margin: 0;
                padding: 0;
                opacity: 1; /*Style2.css set this value to 0 therefore checkbox totaly transparence can not see*/
                width: 3%;/* Style2.css  set this to 100%, this means every checkbox occupy one line*/
                height: 12px;
            }
        </style>
    </head>


    <body>
        <div class="container"> <!--linked to css-->            

            <br> <!--need a space here else, css header blocks content -->

            <div class="row"> <!--implementing columns-->

                <div class="four columns"> <!--left column--> <!--four because want to divide the page to 3 sections, and in the css the style is set to 12, so for division, it needs to be 4 to have 3 columns-->
                    <h5 class="Title">Process Parameter Settings</h5>
                    <table>
                        <tr>
                            <td> Damping Ratio ζ</td>
                            <td> <input type="number" name="zeta" value="0.1"  step="0.1"  min="0" id="zeta" ></td>
                        </tr>
                        <tr>
                            <td> Natural frequency ω<sub>n</sub>(rad s<sup>-1</sup>)</td>
                            <td> <input type="number" name="omegan" value="1"  step="0.1"  min="0" id="omegan" ></td>
                        </tr>
                    </table>


                    <h5 class="Title">Feedback Gain Setting </h5>                
                    <table>
                        <tr>
                            <td>Proportional control (K <sub>P</sub>)</td>
                            <td><input type="number" name="kp" value="1" id= "kp" step="0.05" min="0"> </td>
                        </tr>
                        <tr>
                            <td>Integral control (K <sub>I</sub>)</td>
                            <td><input type="number" name="ki" value="1" id= "ki" step="0.05" min="0" ></td>
                        </tr>
                        <tr>
                            <td>Differential control (K <sub>D</sub>)</td>
                            <td> <input type="number" name="kd" value="1" id= "kd" step="0.05" min="0"></td>
                        </tr>
                    </table>


                    <h5 class="Title">Step and Plotting Time Setting </h5>
                    <table>
                        <tr>
                            <td> Setting (step function)</td>
                            <td><input type="number" name="c" value="1" id= "c" min="0.01"> </td>
                        </tr>
                        <tr>
                            <td>Time step (s)</td>
                            <td><input type="number" name="dt" value="0.1"  step="0.1"  min="0" id="dt" ></td>
                        </tr>
                        <tr>
                            <td>Total time to plot (s)</td>
                            <td><input type="number" name="totalTime" value="20"  id= "totalTime" min=dt></td>
                        </tr>

                    </table>


                </div>  <!--end of implementing columns-->

                <!--PLOT STEP RESPONSE-->
                <div class="eight columns">
                    <div id="chartDiv"> </div> <!--PLOTLY CHART-->


                    <input type="checkbox" id="plotStep" checked class="new">Plot Step Setting &nbsp
                    <input type="checkbox" id="plotOpen" checked>Plot Open loop &nbsp
                    <input type="checkbox" id="plotKp" checked>Plot Proportional &nbsp
                    <input type="checkbox" id="plotKi" checked>Plot Integral &nbsp
                    <input type="checkbox" id="plotKd" checked>Plot Differential &nbsp
                    <input type="checkbox" id="plotKpKi" >Plot PI &nbsp
                    <input type="checkbox" id="plotKpKd">Plot PD &nbsp
                    <input type="checkbox" id="plotKpKiKd" >Plot PID &nbsp
                    <br> 

                    <input type="button" onclick= "do2ndOrder();"  value="Click to plot graph">   <!--Button to do plot-->
                    <br>


                </div> <!--end of chart-->


                <a href="index.html">Back</a> <!--linking home, allow user to go back-->
                <br>
                <a href="laplace.html">First Order Systems</a> <!--providing a link to go to first order laplace page-->
                <br>
                <a href="FirstOrderWaterTank.html">First Order Water Tank Volume Control</a>
                <br>
                <a href="SecondOrderPositionControl.html">Second Order Lift Position Control</a>
            </div>

            <!--calling the js files-->
            <script src="https://rawgit.com/Imperial-visualizations/Physics-Visualizations/master/css/navigator.js"></script>
            <script src=polynomial.js></script>
            <script src=laplaceHelper.js></script>    
            <script src=secondOrderHs.js></script>    
   
    </body>

</html>

